set tmpdir="/tmp"
set mbox_type=Maildir
set folder="~/mail"
set mask="!^\\.[^.]"

#set header_cache = "~/.mutt/hc/fastmail"
#set message_cachedir = "~/.mutt/mc/fastmail"

unset record
unset markers
set nm_record = no
set nm_hidden_tags = "unread,draft,flagged,passed,replied,attachment,inbox"
unset postponed

set nm_default_uri="notmuch:///Users/daniel/mail"
set nm_query_type="threads" 
set virtual_spoolfile=yes
set nm_exclude_tags="spam"

set sidebar_width	= 35
set sidebar_visible	= yes
color sidebar_new yellow default
color progress default magenta
color sidebar green default
bind index K sidebar-prev
bind index J sidebar-next
bind index <space> sidebar-open
bind index <Esc>S sidebar-toggle

set sort_sidebar=unsorted

virtual-mailboxes \
   "INBOX"                "notmuch://?query=tag:inbox" \
   "clarind"              "notmuch://?query=tag:clarind" \
   "clarind-devel"        "notmuch://?query=tag:clarind-devel" \
   "clarind-fag7"         "notmuch://?query=tag:clarind-fag7" \
   "debian-security"      "notmuch://?query=tag:debian-security" \
   "sfs-all"              "notmuch://?query=tag:sfs-all"

tag-transforms "inbox"   "♠" \
               "signed"  "⚑"
tag-formats    "inbox"   "GI"

set index_format  = "%4C %Z %?GI?%GI& ? %<[1y?%<[1w?%<[1d?%[    %H:%M]&%[   %a %d]>&%[   %b %d]>&%[%y %b %d]>  %-16.15F %?M?(%3M)&     ? %s %* %?g?%g?"
set pager_format  = "-%Z- %C/%m: %-20.20n   %s%*  -- %?g?%g? - (%P)"
set date_format   = "!%a, %b %d, %Y at %I:%M:%S%p %Z"

macro index \\\\ "<vfolder-from-query>"
macro index y "<modify-labels-then-hide>-inbox\n<sync-mailbox>"
bind index l modify-labels

set realname            = "Daniël de Kok"
set from                = "me@danieldk.eu"
set use_from            = yes
set envelope_from       = yes

set sort = "threads"
set sort_aux = "reverse-last-date-received"

auto_view text/html
alternative_order text/plain text/enriched text/html

set query_command = "contacts -Sf '%eTOKEN%n' '%s' | sed -e 's/TOKEN/\t/g'"
bind editor <Tab> complete-query
bind editor ^T    complete

